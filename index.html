<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love Projects - Password Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(90deg, #FFC0CB 0%, #FF2E51 100%);
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            transition: background 0.5s ease;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        h1 {
            color: #c59d26;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            color: #db7f4a;
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .password-input-container {
            margin: 30px 0;
            text-align: center;
        }
        
        .password-input {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            position: relative;
        }
        
        .password-segment {
            width: 100%;
            max-width: 400px;
            height: 60px;
            text-align: center;
            font-size: 1.4rem;
            border: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            transition: all 0.3s ease;
            padding: 0 50px 0 20px;
        }
        
        .password-segment:focus {
            outline: none;
            border-color: #ffcc00;
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 15px rgba(255, 204, 0, 0.7);
            transform: scale(1.02);
        }

        .password-segment::placeholder {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1rem;
        }

        .toggle-password {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            font-size: 1.2rem;
            padding: 5px;
            transition: color 0.3s ease;
        }

        .toggle-password:hover {
            color: #ffcc00;
        }
        
        .btn-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .submit-btn {
            background: linear-gradient(to right, #D6998D, #FFB100);
            color: #111;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            min-width: 180px;
        }
        
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
        }
        
        .submit-btn:active {
            transform: translateY(1px);
        }

        .btn-secondary {
            background: linear-gradient(to right, #6a11cb, #2575fc);
        }

        /* Content Pages Styles */
        .content-page {
            display: none;
        }

        .page-content {
            margin: 30px 0;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
        }

        /* Text Page */
        .language-text {
            font-size: 1.5rem;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            text-align: center;
            line-height: 1.6;
            max-width: 600px;
            width: 100%;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Video Page */
        .video-container {
            width: 100%;
            max-width: 800px;
            margin: 20px 0;
        }

        .video-wrapper {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
            border-radius: 15px;
            overflow: hidden;
            border: 3px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
        }

        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Photos Page */
        .photos-container {
            width: 100%;
            max-width: 800px;
            position: relative;
            margin: 20px 0;
        }

        .photo-slider {
            position: relative;
            width: 100%;
            height: 500px;
            border-radius: 15px;
            overflow: hidden;
            border: 3px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
        }

        .photo-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .photo-slide.active {
            opacity: 1;
        }

        .photo-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .photo-slide .text-photo {
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
            padding: 40px;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .photo-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .photo-nav:hover {
            background: rgba(0, 0, 0, 0.9);
            transform: translateY(-50%) scale(1.1);
        }

        .prev-photo {
            left: 20px;
        }

        .next-photo {
            right: 20px;
        }

        .photo-counter {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
        }

        /* Page Links */
        .page-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
            width: 100%;
            max-width: 600px;
        }

        .page-link {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            text-decoration: none;
            padding: 25px 20px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            min-height: 120px;
            justify-content: center;
        }

        .page-link:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            background: linear-gradient(135deg, #764ba2, #667eea);
        }

        .page-link i {
            font-size: 2.5rem;
            margin-bottom: 5px;
        }

        .page-link span {
            font-size: 1.2rem;
            font-weight: bold;
        }

        /* Sync Status */
        .sync-status {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 10px 15px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 0.9rem;
        }

        .sync-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #4caf50;
            animation: pulse 2s infinite;
        }

        .sync-indicator.syncing {
            background: #ff9800;
        }

        .sync-indicator.error {
            background: #f44336;
            animation: none;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* Configuration Page Styles */
        .config-form {
            text-align: left;
            margin: 20px 0;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #ffcc00;
        }

        .form-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
        }

        .form-input:focus {
            outline: none;
            border-color: #ffcc00;
            background: rgba(255, 255, 255, 0.2);
        }

        /* Data Management Styles */
        .data-management {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .data-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .data-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .data-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        /* Photo Upload Styles */
        .photo-upload-container {
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.05);
        }

        .photo-upload-container.drag-over {
            border-color: #ffcc00;
            background: rgba(255, 255, 255, 0.1);
        }

        .upload-icon {
            font-size: 3rem;
            color: rgba(255, 255, 255, 0.5);
            margin-bottom: 15px;
        }

        .upload-text {
            margin-bottom: 15px;
            color: rgba(255, 255, 255, 0.8);
        }

        .file-input {
            display: none;
        }

        .upload-btn {
            background: linear-gradient(to right, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            font-weight: bold;
        }

        .upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .uploaded-photos {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .uploaded-photo {
            position: relative;
            width: 120px;
            height: 120px;
            border-radius: 10px;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .uploaded-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .remove-photo {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(255, 0, 0, 0.9);
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .remove-photo:hover {
            transform: scale(1.1);
        }

        /* Color Picker Styles */
        .color-picker-container {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .color-preview {
            width: 60px;
            height: 60px;
            border-radius: 10px;
            border: 3px solid rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .color-preview:hover {
            transform: scale(1.1);
        }

        .color-input-group {
            flex: 1;
            min-width: 200px;
        }

        .hex-input {
            font-family: monospace;
            font-weight: bold;
            letter-spacing: 1px;
        }

        .color-presets {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(40px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .color-preset {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            border: 2px solid rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .color-preset:hover {
            transform: scale(1.2);
            border-color: white;
        }

        .back-btn {
            background: linear-gradient(to right, #667eea, #764ba2);
            margin-top: 20px;
        }

        .message {
            padding: 15px;
            margin: 20px 0;
            border-radius: 10px;
            font-weight: bold;
        }

        .success {
            background: rgba(76, 175, 80, 0.3);
            border: 1px solid #4caf50;
        }

        .error {
            background: rgba(244, 67, 54, 0.3);
            border: 1px solid #f44336;
        }

        .info {
            background: rgba(33, 150, 243, 0.3);
            border: 1px solid #2196f3;
        }

        /* Admin Panel Styles */
        .admin-panel {
            margin-top: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .passwords-list {
            text-align: left;
            margin: 15px 0;
        }

        .password-item {
            padding: 10px;
            margin: 5px 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            border-left: 4px solid #ffcc00;
        }

        /* Hidden admin access */
        .hidden-admin {
            display: none;
        }

        /* Password strength indicator */
        .password-strength {
            height: 5px;
            border-radius: 5px;
            margin-top: 5px;
            transition: all 0.3s ease;
        }

        .strength-weak {
            background: #f44336;
            width: 25%;
        }

        .strength-medium {
            background: #ff9800;
            width: 50%;
        }

        .strength-strong {
            background: #4caf50;
            width: 75%;
        }

        .strength-very-strong {
            background: #00c853;
            width: 100%;
        }

        /* Loading spinner */
        .spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 3px solid #ffcc00;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Session timeout warning */
        .timeout-warning {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 152, 0, 0.9);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            display: none;
        }

        /* Mobile-friendly touch improvements */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .password-segment {
                height: 55px;
                font-size: 1.2rem;
                max-width: 100%;
            }
            
            .submit-btn {
                padding: 14px 25px;
                font-size: 1rem;
                min-width: 160px;
                width: 100%;
            }

            .btn-container {
                flex-direction: column;
                align-items: center;
            }

            .language-text {
                font-size: 1.2rem;
                padding: 20px;
            }

            .photo-slider {
                height: 400px;
            }

            .photo-slide .text-photo {
                font-size: 1.8rem;
                padding: 30px;
            }

            .photo-nav {
                width: 50px;
                height: 50px;
                font-size: 1.3rem;
            }

            .page-links {
                grid-template-columns: 1fr;
            }

            .page-link {
                padding: 20px 15px;
                min-height: 100px;
            }

            .page-link i {
                font-size: 2.2rem;
            }

            .data-buttons {
                grid-template-columns: 1fr;
            }

            .video-wrapper {
                padding-bottom: 56.25%;
            }

            .color-picker-container {
                flex-direction: column;
                align-items: stretch;
            }

            .color-preview {
                width: 100%;
                height: 80px;
            }

            .uploaded-photos {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }

            .uploaded-photo {
                width: 100px;
                height: 100px;
            }
        }

        @media (max-width: 480px) {
            .photo-slider {
                height: 350px;
            }
            
            .photo-slide .text-photo {
                font-size: 1.5rem;
                padding: 20px;
            }
            
            .photo-nav {
                width: 45px;
                height: 45px;
                font-size: 1.2rem;
            }
            
            .language-text {
                font-size: 1.1rem;
                padding: 15px;
            }
            
            h1 {
                font-size: 1.8rem;
            }

            .page-link {
                padding: 18px 12px;
                min-height: 90px;
            }

            .page-link i {
                font-size: 2rem;
            }

            .page-link span {
                font-size: 1.1rem;
            }
        }

        /* Touch-friendly improvements */
        .photo-nav {
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        .submit-btn, .nav-btn, .upload-btn, .data-btn {
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }
    </style>
</head>
<body>
    <!-- Session Timeout Warning -->
    <div class="timeout-warning" id="timeoutWarning">
        <i class="fas fa-exclamation-triangle"></i> Session will expire in <span id="timeoutCountdown">60</span> seconds
    </div>

    <!-- Main Page -->
    <div class="container main-page">
        <h1>Love Projects</h1>
        <p class="subtitle">Enter password to access your content</p>
        
        <!-- Sync Status -->
        <div class="sync-status" id="syncStatus">
            <div class="sync-indicator" id="syncIndicator"></div>
            <span id="syncText">Auto-save active</span>
        </div>
        
        <div class="password-input-container">
            <div class="password-input">
                <input type="password" id="passwordInput" class="password-segment" placeholder="Enter your password" autocomplete="off">
                <button type="button" class="toggle-password" id="togglePassword">
                    <i class="fas fa-eye"></i>
                </button>
            </div>
            <div class="btn-container">
                <button class="submit-btn" id="accessBtn">Access Content</button>
                <button class="submit-btn btn-secondary" id="configBtn">Create New</button>
                <!-- Admin button is hidden and will be shown only when password "292006" is entered -->
                <button class="submit-btn hidden-admin" id="adminBtn" style="background: linear-gradient(to right, #11998e, #38ef7d);">Admin Panel</button>
            </div>
        </div>
        <div id="message"></div>

        <!-- Data Management Section -->
        <div class="data-management">
            <h3 style="color: #ffcc00; margin-bottom: 15px;">Data Management</h3>
            <p style="margin-bottom: 15px; opacity: 0.9;">Data is automatically saved every 5 minutes</p>
            <div class="data-buttons">
                <button class="data-btn" onclick="forceSave()">
                    <i class="fas fa-save"></i> Save Now
                </button>
                <button class="data-btn" onclick="loadFromBackup()">
                    <i class="fas fa-sync"></i> Reload Data
                </button>
            </div>
        </div>
    </div>

    <!-- Content Selection Page -->
    <div class="container content-page" id="contentSelectionPage">
        <h1>Your Content</h1>
        <p class="subtitle">Choose what you want to see</p>
        
        <div class="page-links">
            <a href="#" class="page-link" id="textPageLink">
                <i class="fas fa-file-alt"></i>
                <span>Read Message</span>
            </a>
            <a href="#" class="page-link" id="videoPageLink">
                <i class="fas fa-play-circle"></i>
                <span>Watch Video</span>
            </a>
            <a href="#" class="page-link" id="photosPageLink">
                <i class="fas fa-images"></i>
                <span>View Photos</span>
            </a>
        </div>
        
        <button class="submit-btn back-btn" onclick="showPage('main')">Back to Main</button>
    </div>

    <!-- Text Content Page -->
    <div class="container content-page" id="textPage">
        <h1>Your Special Message</h1>
        <div class="page-content">
            <div class="language-text" id="languageText">
                Welcome to your personalized content!
            </div>
        </div>
        <button class="submit-btn back-btn" onclick="showPage('contentSelection')">Back to Selection</button>
    </div>

    <!-- Video Content Page -->
    <div class="container content-page" id="videoPage">
        <h1>Your Special Video</h1>
        <div class="page-content">
            <div class="video-container">
                <div class="video-wrapper">
                    <iframe id="contentVideo" src="" frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                            allowfullscreen>
                    </iframe>
                </div>
            </div>
        </div>
        <button class="submit-btn back-btn" onclick="showPage('contentSelection')">Back to Selection</button>
    </div>

    <!-- Photos Content Page -->
    <div class="container content-page" id="photosPage">
        <h1>Your Special Photos</h1>
        <div class="page-content">
            <div class="photos-container">
                <div class="photo-slider" id="photoSlider">
                    <!-- Photos will be dynamically added here -->
                </div>
                <button class="photo-nav prev-photo" onclick="changePhoto(-1)">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="photo-nav next-photo" onclick="changePhoto(1)">
                    <i class="fas fa-chevron-right"></i>
                </button>
                <div class="photo-counter" id="photoCounter">1/4</div>
            </div>
        </div>
        <button class="submit-btn back-btn" onclick="showPage('contentSelection')">Back to Selection</button>
    </div>

    <!-- Configuration Page -->
    <div class="container content-page" id="configPage">
        <h1>Create New Content</h1>
        <div class="config-form">
            <div class="form-group">
                <label for="newPassword">Choose Password:</label>
                <input type="text" id="newPassword" class="form-input" placeholder="Enter new password" autocomplete="new-password">
                <div class="password-strength" id="passwordStrength"></div>
                <small style="opacity: 0.7;">Password strength: <span id="passwordStrengthText">None</span></small>
            </div>
            <div class="form-group">
                <label for="languageContent">Content Text (Any Language):</label>
                <textarea id="languageContent" class="form-input" rows="3" placeholder="Enter your special text..."></textarea>
            </div>
            <div class="form-group">
                <label for="youtubeLink">YouTube Video ID (e.g., dQw4w9WgXcQ):</label>
                <input type="text" id="youtubeLink" class="form-input" placeholder="Enter YouTube video ID">
            </div>
            <div class="form-group">
                <label for="colorCode">Background Color Code (Hex):</label>
                <div class="color-picker-container">
                    <div class="color-preview" id="colorPreview" style="background: #FFC0CB;"></div>
                    <div class="color-input-group">
                        <input type="color" id="colorPicker" class="form-input" value="#FFC0CB" style="height: 50px; padding: 5px;">
                        <input type="text" id="colorCode" class="form-input hex-input" value="#FFC0CB" placeholder="#FFFFFF" maxlength="7" style="margin-top: 10px;">
                    </div>
                </div>
                <div class="color-presets" id="colorPresets">
                    <!-- Color presets will be added here -->
                </div>
            </div>
            <div class="form-group">
                <label>Upload Photos (Max 4 photos):</label>
                <div class="photo-upload-container" id="photoUploadContainer">
                    <div class="upload-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <div class="upload-text">
                        <p>Drag & drop photos here or click to browse</p>
                        <p style="font-size: 0.9rem; opacity: 0.7;">Supported formats: JPG, PNG, GIF</p>
                    </div>
                    <button class="upload-btn" onclick="document.getElementById('photoInput').click()">
                        Choose Photos
                    </button>
                    <input type="file" id="photoInput" class="file-input" accept="image/*" multiple>
                    <div class="uploaded-photos" id="uploadedPhotos">
                        <!-- Uploaded photos preview will appear here -->
                    </div>
                </div>
            </div>
        </div>
        <div class="btn-container">
            <button class="submit-btn" id="saveConfigBtn">Save Configuration</button>
            <button class="submit-btn back-btn" onclick="showPage('main')">Back to Main</button>
        </div>
        <div id="configMessage"></div>
    </div>

    <!-- Admin Panel -->
    <div class="container content-page" id="adminPage">
        <h1>Admin Panel</h1>
        <p class="subtitle">Manage all passwords and content</p>
        
        <div class="admin-panel">
            <h3>Existing Passwords:</h3>
            <div class="passwords-list" id="passwordsList">
                <!-- Passwords will be listed here -->
            </div>
            <div class="data-buttons">
                <button class="data-btn" onclick="forceSave()">
                    <i class="fas fa-save"></i> Force Save
                </button>
                <button class="data-btn" onclick="loadFromBackup()">
                    <i class="fas fa-sync"></i> Reload Data
                </button>
                <button class="data-btn" style="background: linear-gradient(to right, #f46b45, #eea849);" onclick="resetDatabase()">
                    <i class="fas fa-trash"></i> Reset to Default
                </button>
                <button class="data-btn" style="background: linear-gradient(to right, #11998e, #38ef7d);" onclick="createBackup()">
                    <i class="fas fa-copy"></i> Create Backup
                </button>
            </div>
        </div>
        
        <button class="submit-btn back-btn" onclick="logoutAdmin()">Logout Admin</button>
        <div id="adminMessage"></div>
    </div>

<script>
    // EMBEDDED DATABASE - Complete version with enhanced security
    let embeddedDatabase = {
        "love123": {
            languageText: "مرحبا بك في عالم الحب! هذا هو محتواك الخاص. Welcome to the world of love! This is your special content.",
            youtubeVideo: "dQw4w9WgXcQ",
            backgroundColor: "#FFC0CB",
            photos: ["Romantic Photo 1", "Sweet Memory 2", "Love Moment 3", "Special Photo 4"],
            uploadedPhotos: []
        },
        "forever": {
            languageText: "Je t'aimerai toujours et à jamais. Mon cœur est à toi pour l'éternité.",
            youtubeVideo: "9bZkp7q19f0", 
            backgroundColor: "#FF69B4",
            photos: ["Paris Memory", "Eiffel Tower", "Romantic Dinner", "Sunset Walk"],
            uploadedPhotos: []
        },
        "secret": {
            languageText: "これは私たちの秘密のメッセージです。永遠に愛しています。",
            youtubeVideo: "L_jWHffIx5E",
            backgroundColor: "#9370DB",
            photos: ["Tokyo Night", "Cherry Blossom", "Temple Visit", "Mountain View"],
            uploadedPhotos: []
        }
    };

    // Global variables
    let currentContent = null;
    let currentPhotoIndex = 0;
    let uploadedPhotos = [];
    let autoSaveInterval;
    let adminSessionTimeout;
    let adminSessionTimer;
    const ADMIN_PASSWORD = "292006"; // Hidden from database
    const ADMIN_SESSION_DURATION = 10 * 60 * 1000; // 10 minutes

    // Database functions
    function initializeDatabase() {
        const saved = localStorage.getItem('loveProjectsDB');
        if (saved) {
            try {
                const parsed = JSON.parse(saved);
                // Remove admin password from loaded database for security
                if (parsed[ADMIN_PASSWORD]) {
                    delete parsed[ADMIN_PASSWORD];
                }
                embeddedDatabase = parsed;
            } catch (e) {
                console.error("Error loading database:", e);
            }
        }
        updatePasswordsList();
    }

    function getDatabase() {
        return embeddedDatabase;
    }

    function saveDatabase(db) {
        try {
            // Never save admin password to database
            const dbToSave = {...db};
            if (dbToSave[ADMIN_PASSWORD]) {
                delete dbToSave[ADMIN_PASSWORD];
            }
            localStorage.setItem('loveProjectsDB', JSON.stringify(dbToSave));
            embeddedDatabase = dbToSave;
            updatePasswordsList();
            return true;
        } catch (e) {
            console.error("Error saving database:", e);
            return false;
        }
    }

    function updatePasswordsList() {
        const passwordsList = document.getElementById('passwordsList');
        if (passwordsList) {
            passwordsList.innerHTML = '';
            Object.keys(embeddedDatabase).forEach(password => {
                const item = document.createElement('div');
                item.className = 'password-item';
                const contentPreview = embeddedDatabase[password].languageText.length > 50 
                    ? embeddedDatabase[password].languageText.substring(0, 50) + '...' 
                    : embeddedDatabase[password].languageText;
                item.innerHTML = `
                    <strong>${password}</strong> 
                    <div style="font-size: 0.9rem; opacity: 0.8; margin-top: 5px;">${contentPreview}</div>
                `;
                passwordsList.appendChild(item);
            });
        }
    }

    // Page navigation
    function showPage(page) {
        document.querySelectorAll('.content-page, .main-page').forEach(el => {
            el.style.display = 'none';
        });

        switch(page) {
            case 'main':
                document.querySelector('.main-page').style.display = 'block';
                break;
            case 'contentSelection':
                document.getElementById('contentSelectionPage').style.display = 'block';
                break;
            case 'text':
                document.getElementById('textPage').style.display = 'block';
                break;
            case 'video':
                document.getElementById('videoPage').style.display = 'block';
                break;
            case 'photos':
                document.getElementById('photosPage').style.display = 'block';
                break;
            case 'config':
                document.getElementById('configPage').style.display = 'block';
                break;
            case 'admin':
                document.getElementById('adminPage').style.display = 'block';
                updatePasswordsList();
                startAdminSessionTimer();
                break;
        }
    }

    function showContentPage(type) {
        switch(type) {
            case 'text':
                showPage('text');
                break;
            case 'video':
                showPage('video');
                break;
            case 'photos':
                showPage('photos');
                break;
        }
    }

    // Password functions
    function checkAdminAccess() {
        const passwordInput = document.getElementById('passwordInput');
        const adminBtn = document.getElementById('adminBtn');
        
        if (passwordInput.value === ADMIN_PASSWORD) {
            adminBtn.classList.remove('hidden-admin');
        } else {
            adminBtn.classList.add('hidden-admin');
        }
    }

    function checkPassword() {
        const password = document.getElementById('passwordInput').value;
        const messageDiv = document.getElementById('message');
        const db = getDatabase();
        
        // Enhanced security for admin access
        if (password === ADMIN_PASSWORD) {
            // Clear the password field for security
            document.getElementById('passwordInput').value = '';
            showPage('admin');
            messageDiv.innerHTML = '';
            // Re-hide admin button
            document.getElementById('adminBtn').classList.add('hidden-admin');
            return;
        }
        
        if (db[password]) {
            currentContent = db[password];
            currentPhotoIndex = 0;
            
            // Update text page
            document.getElementById('languageText').textContent = currentContent.languageText;
            
            // Update video page
            document.getElementById('contentVideo').src = `https://www.youtube.com/embed/${currentContent.youtubeVideo}?autoplay=0&rel=0`;
            
            // Update photo slider
            updatePhotoSlider();
            
            // Change background color
            document.body.style.background = `linear-gradient(90deg, ${currentContent.backgroundColor} 0%, #FF2E51 100%)`;
            
            // Show content selection page
            showPage('contentSelection');
            messageDiv.innerHTML = '';
        } else {
            messageDiv.innerHTML = '<div class="message error">Invalid password! Please try again or create new content.</div>';
            document.getElementById('passwordInput').focus();
        }
    }

    function togglePasswordVisibility() {
        const passwordInput = document.getElementById('passwordInput');
        const toggleBtn = document.getElementById('togglePassword');
        
        if (passwordInput.type === 'password') {
            passwordInput.type = 'text';
            toggleBtn.innerHTML = '<i class="fas fa-eye-slash"></i>';
        } else {
            passwordInput.type = 'password';
            toggleBtn.innerHTML = '<i class="fas fa-eye"></i>';
        }
    }

    // Password strength checker
    function checkPasswordStrength(password) {
        let strength = 0;
        const strengthText = document.getElementById('passwordStrengthText');
        const strengthBar = document.getElementById('passwordStrength');
        
        if (password.length >= 8) strength++;
        if (password.match(/[a-z]/) && password.match(/[A-Z]/)) strength++;
        if (password.match(/\d/)) strength++;
        if (password.match(/[^a-zA-Z\d]/)) strength++;
        
        strengthBar.className = 'password-strength';
        
        switch(strength) {
            case 0:
            case 1:
                strengthBar.classList.add('strength-weak');
                strengthText.textContent = 'Weak';
                break;
            case 2:
                strengthBar.classList.add('strength-medium');
                strengthText.textContent = 'Medium';
                break;
            case 3:
                strengthBar.classList.add('strength-strong');
                strengthText.textContent = 'Strong';
                break;
            case 4:
                strengthBar.classList.add('strength-very-strong');
                strengthText.textContent = 'Very Strong';
                break;
        }
    }

    // Photo functions
    function updatePhotoSlider() {
        const photoSlider = document.getElementById('photoSlider');
        const photoCounter = document.getElementById('photoCounter');
        
        if (!photoSlider || !currentContent) return;
        
        photoSlider.innerHTML = '';
        
        const photosToShow = currentContent.uploadedPhotos.length > 0 ? 
            currentContent.uploadedPhotos : currentContent.photos;
        
        if (photosToShow.length === 0) {
            // Show placeholder when no photos
            const placeholder = document.createElement('div');
            placeholder.className = 'photo-slide active';
            placeholder.innerHTML = '<div class="text-photo">No photos available</div>';
            photoSlider.appendChild(placeholder);
            photoCounter.textContent = '0/0';
            return;
        }
        
        photosToShow.forEach((photo, index) => {
            const slide = document.createElement('div');
            slide.className = `photo-slide ${index === 0 ? 'active' : ''}`;
            
            if (typeof photo === 'string' && photo.startsWith('data:')) {
                // Base64 image
                slide.innerHTML = `<img src="${photo}" alt="Photo ${index + 1}">`;
            } else if (typeof photo === 'string') {
                // Text placeholder
                slide.innerHTML = `<div class="text-photo">${photo}</div>`;
            }
            
            photoSlider.appendChild(slide);
        });
        
        photoCounter.textContent = `1/${photosToShow.length}`;
        currentPhotoIndex = 0;
    }

    function changePhoto(direction) {
        const slides = document.querySelectorAll('.photo-slide');
        const photoCounter = document.getElementById('photoCounter');
        
        if (slides.length === 0) return;
        
        slides[currentPhotoIndex].classList.remove('active');
        
        currentPhotoIndex += direction;
        
        if (currentPhotoIndex >= slides.length) {
            currentPhotoIndex = 0;
        } else if (currentPhotoIndex < 0) {
            currentPhotoIndex = slides.length - 1;
        }
        
        slides[currentPhotoIndex].classList.add('active');
        photoCounter.textContent = `${currentPhotoIndex + 1}/${slides.length}`;
    }

    // Configuration functions
    function initializeColorPicker() {
        const colorPicker = document.getElementById('colorPicker');
        const colorCode = document.getElementById('colorCode');
        const colorPreview = document.getElementById('colorPreview');
        const colorPresets = document.getElementById('colorPresets');
        
        // Color presets
        const presets = ['#FFC0CB', '#FF69B4', '#9370DB', '#FFB6C1', '#DB7093', '#DA70D6', '#EE82EE', '#DDA0DD'];
        
        colorPresets.innerHTML = '';
        presets.forEach(color => {
            const preset = document.createElement('div');
            preset.className = 'color-preset';
            preset.style.background = color;
            preset.onclick = () => {
                colorPicker.value = color;
                colorCode.value = color;
                colorPreview.style.background = color;
            };
            colorPresets.appendChild(preset);
        });
        
        colorPicker.addEventListener('input', function() {
            colorCode.value = this.value;
            colorPreview.style.background = this.value;
        });
        
        colorCode.addEventListener('input', function() {
            if (isValidHexColor(this.value)) {
                colorPicker.value = this.value;
                colorPreview.style.background = this.value;
            }
        });
    }

    function isValidHexColor(color) {
        return /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(color);
    }

    function initializePhotoUpload() {
        const photoInput = document.getElementById('photoInput');
        const uploadContainer = document.getElementById('photoUploadContainer');
        
        // Drag and drop functionality
        uploadContainer.addEventListener('dragover', function(e) {
            e.preventDefault();
            this.classList.add('drag-over');
        });
        
        uploadContainer.addEventListener('dragleave', function() {
            this.classList.remove('drag-over');
        });
        
        uploadContainer.addEventListener('drop', function(e) {
            e.preventDefault();
            this.classList.remove('drag-over');
            handlePhotoUpload(e.dataTransfer.files);
        });
        
        photoInput.addEventListener('change', function() {
            handlePhotoUpload(this.files);
        });
    }

    function handlePhotoUpload(files) {
        if (files.length + uploadedPhotos.length > 4) {
            alert('Maximum 4 photos allowed!');
            return;
        }
        
        // Show loading state
        const uploadContainer = document.getElementById('photoUploadContainer');
        const originalContent = uploadContainer.innerHTML;
        uploadContainer.innerHTML = '<div class="spinner"></div><p>Uploading photos...</p>';
        
        setTimeout(() => {
            Array.from(files).forEach(file => {
                if (!file.type.startsWith('image/')) {
                    alert('Please upload only image files!');
                    uploadContainer.innerHTML = originalContent;
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    uploadedPhotos.push(e.target.result);
                    updatePhotoPreviews();
                    uploadContainer.innerHTML = originalContent;
                };
                reader.readAsDataURL(file);
            });
        }, 1000);
    }

    function updatePhotoPreviews() {
        const uploadedPhotosContainer = document.getElementById('uploadedPhotos');
        uploadedPhotosContainer.innerHTML = '';
        
        uploadedPhotos.forEach((photo, index) => {
            const photoDiv = document.createElement('div');
            photoDiv.className = 'uploaded-photo';
            photoDiv.innerHTML = `
                <img src="${photo}" alt="Uploaded photo ${index + 1}">
                <button class="remove-photo" onclick="removePhoto(${index})">
                    <i class="fas fa-times"></i>
                </button>
            `;
            uploadedPhotosContainer.appendChild(photoDiv);
        });
    }

    function removePhoto(index) {
        uploadedPhotos.splice(index, 1);
        updatePhotoPreviews();
    }

    function saveConfiguration() {
        const newPassword = document.getElementById('newPassword').value;
        const languageContent = document.getElementById('languageContent').value;
        const youtubeLink = document.getElementById('youtubeLink').value;
        const colorCode = document.getElementById('colorCode').value;
        const messageDiv = document.getElementById('configMessage');
        
        if (!newPassword || !languageContent || !youtubeLink) {
            messageDiv.innerHTML = '<div class="message error">Please fill all fields!</div>';
            return;
        }

        // Enhanced password validation
        if (newPassword.length < 4) {
            messageDiv.innerHTML = '<div class="message error">Password must be at least 4 characters long!</div>';
            return;
        }

        if (!isValidHexColor(colorCode)) {
            messageDiv.innerHTML = '<div class="message error">Please enter a valid hex color code (e.g., #FFC0CB)!</div>';
            return;
        }
        
        const db = getDatabase();
        
        if (db[newPassword]) {
            messageDiv.innerHTML = '<div class="message error">Password already exists! Choose a different password.</div>';
            return;
        }
        
        // Save new configuration with uploaded photos
        db[newPassword] = {
            languageText: languageContent,
            youtubeVideo: youtubeLink,
            backgroundColor: colorCode.toUpperCase(),
            photos: ["Custom Photo 1", "Custom Photo 2", "Custom Photo 3", "Custom Photo 4"],
            uploadedPhotos: uploadedPhotos
        };
        
        if (saveDatabase(db)) {
            messageDiv.innerHTML = '<div class="message success">Configuration saved successfully! You can now access it with your password: <strong>' + newPassword + '</strong></div>';
            
            // Clear form
            document.getElementById('newPassword').value = '';
            document.getElementById('languageContent').value = '';
            document.getElementById('youtubeLink').value = '';
            document.getElementById('colorCode').value = '#FFC0CB';
            document.getElementById('colorPicker').value = '#FFC0CB';
            document.getElementById('colorPreview').style.background = '#FFC0CB';
            document.getElementById('passwordStrengthText').textContent = 'None';
            document.getElementById('passwordStrength').className = 'password-strength';
            uploadedPhotos = [];
            updatePhotoPreviews();
        } else {
            messageDiv.innerHTML = '<div class="message error">Error saving configuration!</div>';
        }
    }

    // Data management functions
    function startAutoSave() {
        autoSaveInterval = setInterval(forceSave, 5 * 60 * 1000); // 5 minutes
    }

    function forceSave() {
        const db = getDatabase();
        if (saveDatabase(db)) {
            showSyncStatus('Data saved successfully!', 'success');
        } else {
            showSyncStatus('Error saving data!', 'error');
        }
    }

    function loadFromBackup() {
        initializeDatabase();
        showSyncStatus('Data reloaded from backup!', 'success');
    }

    function createBackup() {
        const db = getDatabase();
        const dataStr = JSON.stringify(db, null, 2);
        const dataBlob = new Blob([dataStr], {type: 'application/json'});
        
        const url = URL.createObjectURL(dataBlob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'love-projects-backup.json';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        
        showSyncStatus('Backup created successfully!', 'success');
    }

    function resetDatabase() {
        if (confirm('Are you sure you want to reset all data to default? This cannot be undone!')) {
            localStorage.removeItem('loveProjectsDB');
            embeddedDatabase = {
                "love123": {
                    languageText: "مرحبا بك في عالم الحب! هذا هو محتواك الخاص. Welcome to the world of love! This is your special content.",
                    youtubeVideo: "dQw4w9WgXcQ",
                    backgroundColor: "#FFC0CB",
                    photos: ["Romantic Photo 1", "Sweet Memory 2", "Love Moment 3", "Special Photo 4"],
                    uploadedPhotos: []
                },
                "forever": {
                    languageText: "Je t'aimerai toujours et à jamais. Mon cœur est à toi pour l'éternité.",
                    youtubeVideo: "9bZkp7q19f0", 
                    backgroundColor: "#FF69B4",
                    photos: ["Paris Memory", "Eiffel Tower", "Romantic Dinner", "Sunset Walk"],
                    uploadedPhotos: []
                },
                "secret": {
                    languageText: "これは私たちの秘密のメッセージです。永遠に愛しています。",
                    youtubeVideo: "L_jWHffIx5E",
                    backgroundColor: "#9370DB",
                    photos: ["Tokyo Night", "Cherry Blossom", "Temple Visit", "Mountain View"],
                    uploadedPhotos: []
                }
            };
            updatePasswordsList();
            showSyncStatus('Database reset to default!', 'success');
        }
    }

    function showSyncStatus(message, type) {
        const syncIndicator = document.getElementById('syncIndicator');
        const syncText = document.getElementById('syncText');
        
        syncText.textContent = message;
        syncIndicator.className = 'sync-indicator';
        
        if (type === 'success') {
            syncIndicator.classList.add('syncing');
            setTimeout(() => {
                syncIndicator.classList.remove('syncing');
                syncText.textContent = 'Auto-save active';
            }, 3000);
        } else if (type === 'error') {
            syncIndicator.classList.add('error');
        }
    }

    // Admin session management
    function startAdminSessionTimer() {
        // Clear any existing timer
        if (adminSessionTimeout) {
            clearTimeout(adminSessionTimeout);
        }
        if (adminSessionTimer) {
            clearInterval(adminSessionTimer);
        }
        
        let timeLeft = ADMIN_SESSION_DURATION / 1000;
        const warning = document.getElementById('timeoutWarning');
        const countdown = document.getElementById('timeoutCountdown');
        
        // Show warning 1 minute before timeout
        adminSessionTimeout = setTimeout(() => {
            warning.style.display = 'block';
            
            // Start countdown
            adminSessionTimer = setInterval(() => {
                timeLeft--;
                countdown.textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    logoutAdmin();
                }
            }, 1000);
        }, ADMIN_SESSION_DURATION - 60000);
        
        // Auto logout after full duration
        adminSessionTimeout = setTimeout(logoutAdmin, ADMIN_SESSION_DURATION);
    }

    function logoutAdmin() {
        // Clear timers
        if (adminSessionTimeout) {
            clearTimeout(adminSessionTimeout);
        }
        if (adminSessionTimer) {
            clearInterval(adminSessionTimer);
        }
        
        // Hide warning
        document.getElementById('timeoutWarning').style.display = 'none';
        
        // Return to main page
        showPage('main');
        
        // Clear password field
        document.getElementById('passwordInput').value = '';
        
        // Show logout message
        const messageDiv = document.getElementById('message');
        messageDiv.innerHTML = '<div class="message info">Admin session ended. Please log in again to continue.</div>';
    }

    // Event listeners
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize database and start auto-save
        initializeDatabase();
        startAutoSave();
        
        // Initialize other components
        initializeColorPicker();
        initializePhotoUpload();
        
        // Main page events
        document.getElementById('accessBtn').addEventListener('click', checkPassword);
        document.getElementById('configBtn').addEventListener('click', function() {
            showPage('config');
        });
        document.getElementById('adminBtn').addEventListener('click', function() {
            showPage('admin');
        });
        
        // Content selection page events
        document.getElementById('textPageLink').addEventListener('click', function(e) {
            e.preventDefault();
            showContentPage('text');
        });
        document.getElementById('videoPageLink').addEventListener('click', function(e) {
            e.preventDefault();
            showContentPage('video');
        });
        document.getElementById('photosPageLink').addEventListener('click', function(e) {
            e.preventDefault();
            showContentPage('photos');
        });
        
        // Password visibility toggle
        document.getElementById('togglePassword').addEventListener('click', togglePasswordVisibility);
        
        // Real-time admin password check
        document.getElementById('passwordInput').addEventListener('input', checkAdminAccess);
        
        // Password strength checking
        document.getElementById('newPassword').addEventListener('input', function() {
            checkPasswordStrength(this.value);
        });
        
        // Configuration page events
        document.getElementById('saveConfigBtn').addEventListener('click', saveConfiguration);
        
        // Enter key support for password input
        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });
        
        // User activity reset for admin session
        document.addEventListener('click', function() {
            if (document.getElementById('adminPage').style.display === 'block') {
                startAdminSessionTimer();
            }
        });
        
        // Focus on password input
        document.getElementById('passwordInput').focus();
    });
</script>
</body>
</html>
